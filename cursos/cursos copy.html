<!DOCTYPE html>
<!-- Coding by CodingLab | www.codinglabweb.com-->
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sidebar Menu | Side Navigation Bar</title>

  <!-- CSS -->
  <link rel="stylesheet" href="../cursos/cursos.css" />

  <!-- Boxicons CSS -->
  <link href="https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css" rel="stylesheet" />

   <!-- >>>> MENU DE ACESSIBILIDADE SIENNA <<<<< -->
  <script src="https://website-widgets.pages.dev/dist/sienna.min.js" defer></script>
</head>

<body>
  <main>


    <nav>
      <div class="logo">
        <i class="bx bx-menu menu-icon"></i>
        <span class="logo-name"><img class="loianecursos" src="../assets/loiane-training-logo-branca.png" alt=""></span>

       
      </div>


      <div class="sidebar">
        <div class="logo">
          <i class="bx bx-menu menu-icon"></i>
          <span class="logo-name"><img class="loianecursos" src="../assets/Loianetraining.png" alt=""></span>
        </div>

        <div class="sidebar-content">
          <ul class="lists">
            <h2>Voltar</h2>
            <li class="list">
              <a href="../index.html" class="nav-link">
                <i class="bx bx-home-alt icon"></i>
                <span class="link">Página Inicial</span>
              </a>
              <a href="#" class="nav-link" id="logout-link">
                <i class="bx bx-home-alt icon"></i>
                <span class="link">Deslogar</span>
              </a>
            </li>

            <h2>Cursos</h2>
            <li class="list">
              <a href="../cursos/paginaCursos/paginaJava.html" class="nav-link">
                <i class="bx bx-folder-open icon"></i>
                <span class="link">Java Básico</span>
              </a>
            </li>
            <li class="list">
              <a href="../cursos/paginaCursos/paginaJavainterm.html" class="nav-link">
                <i class="bx bx-folder-open icon"></i>
                <span class="link">Java Intermediário</span>
              </a>
            </li>
            <li class="list">
              <a href="../cursos/paginaCursos/paginaEstrutura.html" class="nav-link">
                <i class="bx bx-folder-open icon"></i>
                <span class="link">Estrutura de dados com Java</span>
              </a>
            </li>
            <li class="list">
              <a href="../cursos/paginaCursos/paginaAngular.html" class="nav-link">
                <i class="bx bx-folder-open icon"></i>
                <span class="link">Angular</span>
              </a>
            </li>
            <li class="list">
              <a href="../cursos/paginaCursos/paginaAngularspring.html" class="nav-link">
                <i class="bx bx-folder-open icon"></i>
                <span class="link">CRUD: Angular + Spring</span>
              </a>
            </li>
            <li class="list">
              <a href="../cursos/paginaCursos/paginaExtjs.html" class="nav-link">
                <i class="bx bx-folder-open icon"></i>
                <span class="link">Fundamentos Ext JS 4</span>
              </a>
            </li>
            <li class="list">
              <a href="../cursos/paginaCursos/paginaPhonegap.html" class="nav-link">
                <i class="bx bx-folder-open icon"></i>
                <span class="link">Phonegap e Apache Cordova</span>
              </a>
            </li>
          </ul>
        </div>
    </nav>
    <div class="overlay"></div>
  </main>

  <!-- >>>>>>>>>>>> CARD DOS CURSOS <<<<<<<<<<<< -->

  <div class="page-content">
    <div class="bemvindoc">
      <div class="texto1 bemvindo-usuario-container">
        <h1 id="bemvindoUsuario">Usuário</h1>
      </div>
      <h1 class="texto1">Bem-vindo(a) à sua área de cursos.</h1>
      <p class="texto1">Selecione um para começar</p>
      <p class="texto1" id="mensagemLogin" style="color:#b22424; font-weight:600; display:none;">
        Faça login ou registre-se para acessar os cursos
        <br>
        <a href="../html/login.html" id="linkLogin" style="color:#380557; text-decoration:underline; font-weight:600;">Ir para Login</a>
      </p>
      <div class="card-list" id="cardList">

        <!-- Java Basico  -->
        <div class="card-item" data-curso="java">
          <img src="../cursosAssets/JavaBasico.png" alt="Card Image">
          <span class="developer">Java</span>
          <h3>Java Básico</h3>
          <p class="progresso">Progresso</p>
          <div class="progress-bar">
            <div class="progress" id="progress-java" style="width: 1%;"></div>
          </div>
          <a href="../cursos/paginaCursos/paginaJava.html" class="hero-btn1">Começar</a>
        </div>

        <div class="card-item" data-curso="javainterm">
          <img src="../cursosAssets/JavaIntermediario.png" alt="Card Image">
          <span class="developer">Java</span>
          <h3>Java Intermediário</h3>
          <p class="progresso">Progresso</p>
          <div class="progress-bar">
            <div class="progress" id="progress-javainterm" style="width: 1%;"></div>
          </div>
          <a href="../cursos/paginaCursos/paginaJavainterm.html" class="hero-btn1">Começar</a>
        </div>

        <div class="card-item" data-curso="estrutura">
          <img src="../cursosAssets/Estrutura-de-dados-com-java.png" alt="Card Image">
          <span class="developer">Java</span>
          <h3>Estrutura de dados com Java</h3>
          <p class="progresso">Progresso</p>
          <div class="progress-bar">
            <div class="progress" id="progress-estrutura" style="width: 1%;"></div>
          </div>
          <a href="../cursos/paginaCursos/paginaEstrutura.html" class="hero-btn1">Começar</a>
        </div>

        <div class="card-item" data-curso="angular">
          <img src="../cursosAssets/Angular.png" alt="Card Image">
          <span class="editor">Angular</span>
          <h3>Angular</h3>
          <p class="progresso">Progresso</p>
          <div class="progress-bar">
            <div class="progress" id="progress-angular" style="width: 1%;"></div>
          </div>
          <a href="../cursos/paginaCursos/paginaAngular.html" class="hero-btn1">Começar</a>
        </div>

        <div class="card-item" data-curso="angularspring">
          <img src="../cursosAssets/Angular-spring.png" alt="Card Image">
          <span class="editor">Angular + Spring</span>
          <h3>CRUD: Angular + Spring</h3>
          <p class="progresso">Progresso</p>
          <div class="progress-bar">
            <div class="progress" id="progress-angularspring" style="width: 1%;"></div>
          </div>
          <a href="../cursos/paginaCursos/paginaAngularspring.html" class="hero-btn1">Começar</a>
        </div>

        <div class="card-item" data-curso="extjs">
          <img src="../cursosAssets/ExtJS4.png" alt="Card Image">
          <span class="designer">JavaScript</span>
          <h3>Fundamentos Ext JS 4</h3>
          <p class="progresso">Progresso</p>
          <div class="progress-bar">
            <div class="progress" id="progress-extjs" style="width: 1%;"></div>
          </div>
          <a href="../cursos/paginaCursos/paginaExtjs.html" class="hero-btn1">Começar</a>
        </div>

        <div class="card-item" data-curso="phonegap">
          <img src="../cursosAssets/Phonegap.png" alt="Card Image">
          <span class="tech">Aplicações Mobile</span>
          <h3>Phonegap e Apache Cordova</h3>
          <p class="progresso">Progresso</p>
          <div class="progress-bar">
            <div class="progress" id="progress-phonegap" style="width: 1%;"></div>
          </div>
          <a href="../cursos/paginaCursos/paginaPhonegap.html" class="hero-btn1">Começar</a>
        </div>

        <!-- ......... COMEÇO DO BOTÃO DE TTS ............. -->
        <style>
          /* Estilo do botão flutuante */
          #toggleReader {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #0080ff;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 20px;
            cursor: pointer;
            z-index: 9999;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s ease;
          }

          #toggleReader.ativo {
            background-color: #00c853;
            /* verde quando ativo */
          }

          .tts {
            width: 32px;

            object-fit: contain;
          }

          /* Estilo do alerta visual */
          .tts-alerta {
            position: fixed;
            bottom: 90px;
            right: 20px;
            background-color: #323232;
            color: white;
            padding: 12px 18px;
            border-radius: 8px;
            font-size: 14px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
            z-index: 9999;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
          }

          .tts-alerta.visivel {
            opacity: 1;
            pointer-events: auto;
          }

          /* Destaque nos textos clicáveis */
          .texto-tts:hover {
            cursor: pointer;
            text-decoration: underline;
            transition: text-decoration 0.3s ease;
          }
        </style>

        <!-- Botão de leitura -->
        <button id="toggleReader" title="Ativar leitura por clique">
          <img class="tts" src="../cursosAssets/tts.png" alt="">
        </button>

        <!-- Alerta de ativação/desativação -->
        <div id="ttsAlerta" class="tts-alerta"></div>



        <script>
          let leituraAtiva = false;

          const toggleBtn = document.getElementById('toggleReader');
          const alerta = document.getElementById('ttsAlerta');

          // Função para impedir que links sejam clicados
          function bloquearLinks(event) {
            event.preventDefault();
          }

          // Função para mostrar aviso estilizado
          function mostrarAlerta(mensagem) {
            alerta.textContent = mensagem;
            alerta.classList.add('visivel');
            setTimeout(() => {
              alerta.classList.remove('visivel');
            }, 3000);
          }

          toggleBtn.addEventListener('click', () => {
            leituraAtiva = !leituraAtiva;

            const elementos = document.querySelectorAll('p, span, li, h1, h2, h3, h4, h5, h6, a');

            if (leituraAtiva) {
              elementos.forEach(el => el.classList.add('texto-tts'));

              document.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', bloquearLinks);
              });

              document.body.addEventListener('click', leituraPorClique);

              toggleBtn.classList.add('ativo');
              mostrarAlerta("Leitura por clique ativada.");
              falarMensagem("Leitura por clique ativada.");

            } else {
              elementos.forEach(el => el.classList.remove('texto-tts'));

              document.querySelectorAll('a').forEach(link => {
                link.removeEventListener('click', bloquearLinks);
              });

              document.body.removeEventListener('click', leituraPorClique);

              toggleBtn.classList.remove('ativo');
              mostrarAlerta("Leitura por clique desativada.");
              falarMensagem("Leitura por clique desativada.");

            }
          });

          function leituraPorClique(event) {
            let selecionado = event.target;

            if (selecionado.closest) {
              const linkPai = selecionado.closest('a');
              if (linkPai) selecionado = linkPai;
            }

            if (['BUTTON', 'INPUT', 'TEXTAREA', 'SELECT'].includes(selecionado.tagName)) return;

            const texto = selecionado.innerText || selecionado.textContent;
            if (!texto.trim()) return;

            const utterance = new SpeechSynthesisUtterance(texto);
            utterance.lang = "pt-BR";

            speechSynthesis.cancel();
            speechSynthesis.speak(utterance);

            event.stopPropagation();
            event.preventDefault();
          }

          function falarMensagem(mensagem) {
            const aviso = new SpeechSynthesisUtterance(mensagem);
            aviso.lang = "pt-BR";
            speechSynthesis.cancel(); // Interrompe qualquer leitura anterior
            speechSynthesis.speak(aviso);
          }


        </script>
        <!-- ......... FIM DO BOTÃO DE TTS ............. -->


        <script>
          const navBar = document.querySelector("nav"),
            menuBtns = document.querySelectorAll(".menu-icon"),
            overlay = document.querySelector(".overlay");

          menuBtns.forEach((menuBtn) => {
            menuBtn.addEventListener("click", () => {
              navBar.classList.toggle("open");
            });
          });

          overlay.addEventListener("click", () => {
            navBar.classList.remove("open");
          });
        </script>

        <div vw class="enabled">
          <div vw-access-button class="active"></div>
          <div vw-plugin-wrapper>
            <div class="vw-plugin-top-wrapper"></div>
          </div>
        </div>
        <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
        <script>
          new window.VLibras.Widget('https://vlibras.gov.br/app');
        </script>

        <script>
  // Exibe o nome do usuário registrado no localStorage
  window.addEventListener('DOMContentLoaded', function() {
    // Verifica login
    let usuarioNome = null;
    let usuarioLogado = false;
    const registro = localStorage.getItem('registro');
    const loginEmail = localStorage.getItem('loginEmail');
    if (registro) {
      try {
        const usuario = JSON.parse(registro);
        // Se loginEmail existir, valida pelo email logado
        if (loginEmail && usuario.email === loginEmail) {
          usuarioNome = usuario.nome;
          usuarioLogado = true;
        }
        // Se loginEmail não existir, mas o nome está salvo (primeiro acesso após cadastro)
        else if (!loginEmail && localStorage.getItem('userName') === usuario.nome) {
          usuarioNome = usuario.nome;
          usuarioLogado = true;
        }
      } catch (e) {
        usuarioLogado = false;
      }
    }

    // Atualiza saudação
    if (usuarioNome) {
      document.getElementById('bemvindoUsuario').textContent = usuarioNome;
    }

    // Protege acesso aos cursos
    function bloquearAcesso() {
      // Mensagem para usuário não logado
      var msg = document.getElementById('mensagemLogin');
      if (msg) msg.style.display = 'block';
      var linkLogin = document.getElementById('linkLogin');
      if (linkLogin) linkLogin.style.display = 'inline';

      // Desabilita links da sidebar
      document.querySelectorAll('.sidebar-content .nav-link').forEach(link => {
        if (link.querySelector('.link') && link.querySelector('.link').textContent !== 'Página Inicial') {
          link.addEventListener('click', function(e) {
            e.preventDefault();
            alert('Faça login para acessar os cursos.');
          });
          link.classList.add('desabilitado');
        }
      });
      // Desabilita cards e botões "Começar"
      document.querySelectorAll('.card-item a.hero-btn1').forEach(btn => {
        btn.addEventListener('click', function(e) {
          e.preventDefault();
          alert('Faça login para acessar os cursos.');
        });
        btn.classList.add('desabilitado');
      });
      // Opcional: visual feedback
      document.querySelectorAll('.card-item').forEach(card => {
        card.style.opacity = '0.6';
        card.style.pointerEvents = 'none';
      });
      document.getElementById('cardList').style.pointerEvents = 'auto';
      document.getElementById('cardList').style.opacity = '1';
    }

    function liberarAcesso() {
      // Esconde mensagem de login
      var msg = document.getElementById('mensagemLogin');
      if (msg) msg.style.display = 'none';
      var linkLogin = document.getElementById('linkLogin');
      if (linkLogin) linkLogin.style.display = 'none';

      // Remove bloqueios dos links da sidebar
      document.querySelectorAll('.sidebar-content .nav-link').forEach(link => {
        link.classList.remove('desabilitado');
        link.onclick = null;
      });
      // Remove bloqueios dos cards
      document.querySelectorAll('.card-item a.hero-btn1').forEach(btn => {
        btn.classList.remove('desabilitado');
        btn.onclick = null;
      });
      document.querySelectorAll('.card-item').forEach(card => {
        card.style.opacity = '';
        card.style.pointerEvents = '';
      });
    }

    if (!usuarioLogado) {
      bloquearAcesso();
    } else {
      liberarAcesso();
    }
  });
</script>
<style>
/* ...existing code... */
.desabilitado {
  pointer-events: none !important;
  opacity: 0.6 !important;
  filter: grayscale(0.5);
  cursor: not-allowed !important;
}

.logout-confirm {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(44, 14, 80, 0.55);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 99999;
}
.logout-box {
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 8px 32px rgba(44,14,80,0.18);
  padding: 36px 32px 28px 32px;
  text-align: center;
  max-width: 340px;
  width: 90vw;
  border: 2px solid #4c1a99;
  animation: fadeInScale 0.3s;
}
.logout-box h2 {
  color: #4c1a99;
  font-size: 1.4rem;
  margin-bottom: 18px;
  font-weight: 700;
}
.logout-box p {
  color: #333;
  font-size: 1rem;
  margin-bottom: 28px;
}
.logout-btns {
  display: flex;
  gap: 18px;
  justify-content: center;
}
.logout-btn {
  padding: 10px 28px;
  border-radius: 20px;
  border: none;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s, color 0.2s;
}
.logout-btn.confirm {
  background: #4c1a99;
  color: #fff;
}
.logout-btn.cancel {
  background: #e2c9fc;
  color: #4c1a99;
}
.logout-btn:hover {
  opacity: 0.85;
}
@keyframes fadeInScale {
  from {
    opacity: 0;
    transform: scale(0.92);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
</style>
<script>
// ...existing code...
document.addEventListener('DOMContentLoaded', function () {
  var logoutLink = document.getElementById('logout-link');
  if (logoutLink) {
    logoutLink.addEventListener('click', function (e) {
      e.preventDefault();
      if (document.getElementById('logout-modal')) return;
      var modal = document.createElement('div');
      modal.className = 'logout-confirm';
      modal.id = 'logout-modal';
      modal.innerHTML = `
        <div class="logout-box">
          <h2>Deseja deslogar?</h2>
          <p>Você será desconectado da sua conta.</p>
          <div class="logout-btns">
            <button class="logout-btn confirm" id="btnLogoutConfirm">Deslogar</button>
            <button class="logout-btn cancel" id="btnLogoutCancel">Cancelar</button>
          </div>
        </div>
      `;
      document.body.appendChild(modal);

      document.getElementById('btnLogoutConfirm').onclick = function () {
        localStorage.removeItem('userName');
        localStorage.removeItem('loginEmail');
        document.body.removeChild(modal);
        window.location.href = "../index.html";
      };
      document.getElementById('btnLogoutCancel').onclick = function () {
        document.body.removeChild(modal);
      };
    });
  }
});
// ...existing code...
</script>
<script>
// ...existing code...

// Progresso dos cursos
function atualizarProgressoCursos() {
  const cursos = [
    { id: 'java', key: 'progresso-javaBasico' },
    { id: 'javainterm', key: 'progresso-javaIntermediario' },
    { id: 'estrutura', key: 'progresso-estrutura' },
    { id: 'angular', key: 'progresso-angular' },
    { id: 'angularspring', key: 'progresso-angularspring' },
    { id: 'extjs', key: 'progresso-extjs' },
    { id: 'phonegap', key: 'progresso-phonegap' }
  ];
  cursos.forEach(curso => {
    let percent = parseInt(localStorage.getItem(curso.key) || '0', 10);
    if (isNaN(percent) || percent < 0) percent = 0;
    if (percent > 100) percent = 100;
    const barra = document.getElementById('progress-' + curso.id);
    if (barra) barra.style.width = percent + '%';
    // Atualiza o texto da barra, se quiser mostrar o valor
    // if (barra) barra.textContent = percent + '%';
  });
}

// Atualiza progresso ao carregar a página
window.addEventListener('DOMContentLoaded', function() {
  // ...existing code...
  atualizarProgressoCursos();

  // Corrige: escuta storage para atualizar progresso em tempo real ao voltar das aulas
  window.addEventListener('storage', function(e) {
    if (
      e.key &&
      [
        'progresso-javaBasico',
        'progresso-javaIntermediario',
        'progresso-estrutura',
        'progresso-angular',
        'progresso-angularspring',
        'progresso-extjs',
        'progresso-phonegap'
      ].includes(e.key)
    ) {
      atualizarProgressoCursos();
    }
  });
});

// Também atualiza ao voltar para a página (ex: vindo de uma aula)
window.addEventListener('focus', atualizarProgressoCursos);

</script>
</body>

</html>